<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>開盤八法盤勢分析器</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', 'Microsoft JhengHei', sans-serif;
        }
        
        body {
            background-color: #f5f7fa;
            color: #333;
            line-height: 1.6;
            padding: 20px;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .container {
            display: flex;
            flex-direction: column;
            gap: 30px;
        }
        
        header {
            text-align: center;
            padding: 20px;
            background: linear-gradient(135deg, #1e5799 0%, #207cca 100%);
            color: white;
            border-radius: 12px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        header h1 {
            margin-bottom: 10px;
            font-size: 2.2rem;
        }
        
        header p {
            font-size: 1.1rem;
            opacity: 0.9;
            max-width: 800px;
            margin: 0 auto;
        }
        
        .content {
            display: flex;
            flex-wrap: wrap;
            gap: 30px;
        }
        
        .input-section, .result-section {
            flex: 1;
            min-width: 300px;
            background-color: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        }
        
        .section-title {
            font-size: 1.5rem;
            color: #1e5799;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #eaeaea;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .section-title i {
            color: #207cca;
        }
        
        .input-group {
            margin-bottom: 20px;
        }
        
        .input-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #444;
        }
        
        .input-group input {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 1.1rem;
            transition: border-color 0.3s;
        }
        
        .input-group input:focus {
            border-color: #1e5799;
            outline: none;
            box-shadow: 0 0 0 2px rgba(30, 87, 153, 0.2);
        }
        
        .input-hint {
            font-size: 0.9rem;
            color: #666;
            margin-top: 5px;
            font-style: italic;
        }
        
        .buttons {
            display: flex;
            gap: 15px;
            margin-top: 30px;
        }
        
        .btn {
            padding: 14px 25px;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        
        .btn-primary {
            background-color: #1e5799;
            color: white;
            flex: 2;
        }
        
        .btn-primary:hover {
            background-color: #16457a;
            transform: translateY(-2px);
        }
        
        .btn-secondary {
            background-color: #f0f0f0;
            color: #333;
            flex: 1;
        }
        
        .btn-secondary:hover {
            background-color: #e0e0e0;
        }
        
        .result-display {
            margin-top: 20px;
            padding: 20px;
            border-radius: 8px;
            background-color: #f9f9f9;
            border-left: 5px solid #1e5799;
        }
        
        .method-name {
            font-size: 1.8rem;
            color: #1e5799;
            margin-bottom: 15px;
            text-align: center;
        }
        
        .method-description {
            font-size: 1.1rem;
            line-height: 1.7;
            margin-bottom: 15px;
        }
        
        .price-comparison {
            display: flex;
            justify-content: space-between;
            margin: 25px 0;
            padding: 15px;
            background-color: #f0f7ff;
            border-radius: 8px;
        }
        
        .price-point {
            text-align: center;
            flex: 1;
        }
        
        .price-label {
            font-weight: 600;
            margin-bottom: 8px;
            color: #555;
        }
        
        .price-value {
            font-size: 1.3rem;
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .price-status {
            font-size: 0.9rem;
            padding: 3px 10px;
            border-radius: 15px;
            display: inline-block;
        }
        
        .up {
            color: #e53935;
            background-color: rgba(229, 57, 53, 0.1);
        }
        
        .down {
            color: #2e7d32;
            background-color: rgba(46, 125, 50, 0.1);
        }
        
        .method-explanation {
            background-color: #fff9e6;
            padding: 20px;
            border-radius: 8px;
            margin-top: 25px;
            border-left: 5px solid #ff9800;
        }
        
        .explanation-title {
            font-size: 1.3rem;
            color: #e65100;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .explanation-content {
            line-height: 1.7;
        }
        
        .method-list {
            margin-top: 30px;
            padding: 20px;
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        }
        
        .method-list h3 {
            color: #1e5799;
            margin-bottom: 15px;
        }
        
        .method-item {
            padding: 12px 15px;
            border-bottom: 1px solid #eee;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .method-item:last-child {
            border-bottom: none;
        }
        
        .method-number {
            background-color: #1e5799;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }
        
        .method-pattern {
            font-weight: 600;
            min-width: 120px;
        }
        
        footer {
            text-align: center;
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid #ddd;
            color: #666;
            font-size: 0.9rem;
        }
        
        @media (max-width: 768px) {
            .content {
                flex-direction: column;
            }
            
            .price-comparison {
                flex-direction: column;
                gap: 15px;
            }
            
            .buttons {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1><i class="fas fa-chart-line"></i> 開盤八法盤勢分析器</h1>
            <p>根據前日收盤價與開盤後三個時間點的價格，判斷開盤八法類型及盤勢解析</p>
        </header>
        
        <div class="content">
            <div class="input-section">
                <h2 class="section-title"><i class="fas fa-edit"></i> 輸入價格數據</h2>
                
                <div class="input-group">
                    <label for="prev-close">前日收盤價</label>
                    <input type="number" id="prev-close" step="0.01" min="0" placeholder="請輸入前日收盤價">
                    <div class="input-hint">這是比較基準價，用來判斷後續價格是漲還是跌</div>
                </div>
                
                <div class="input-group">
                    <label for="price-9-05">9:05分收盤價 (A)</label>
                    <input type="number" id="price-9-05" step="0.01" min="0" placeholder="請輸入9:05分的收盤價">
                    <div class="input-hint">開盤後第一個5分鐘的收盤價</div>
                </div>
                
                <div class="input-group">
                    <label for="price-9-10">9:10分收盤價 (B)</label>
                    <input type="number" id="price-9-10" step="0.01" min="0" placeholder="請輸入9:10分的收盤價">
                    <div class="input-hint">開盤後第二個5分鐘的收盤價</div>
                </div>
                
                <div class="input-group">
                    <label for="price-9-15">9:15分收盤價 (C)</label>
                    <input type="number" id="price-9-15" step="0.01" min="0" placeholder="請輸入9:15分的收盤價">
                    <div class="input-hint">開盤後第三個5分鐘的收盤價</div>
                </div>
                
                <div class="buttons">
                    <button class="btn btn-primary" id="analyze-btn">
                        <i class="fas fa-calculator"></i> 分析開盤八法
                    </button>
                    <button class="btn btn-secondary" id="reset-btn">
                        <i class="fas fa-redo"></i> 重置數據
                    </button>
                </div>
            </div>
            
            <div class="result-section">
                <h2 class="section-title"><i class="fas fa-chart-bar"></i> 分析結果</h2>
                
                <div id="result-display" class="result-display" style="display: none;">
                    <div class="price-comparison" id="price-comparison">
                        <!-- 動態生成價格比較 -->
                    </div>
                    
                    <div class="method-name" id="method-name">等待分析結果...</div>
                    
                    <div class="method-description" id="method-description">
                        請輸入價格數據後點擊"分析開盤八法"按鈕
                    </div>
                    
                    <div class="method-explanation">
                        <div class="explanation-title">
                            <i class="fas fa-info-circle"></i> 盤勢解析
                        </div>
                        <div class="explanation-content" id="method-explanation">
                            分析結果將顯示在這裡
                        </div>
                    </div>
                </div>
                
                <div id="initial-message" class="result-display">
                    <p style="text-align: center; color: #666;">
                        <i class="fas fa-arrow-left" style="font-size: 1.5rem; margin-bottom: 15px; display: block;"></i>
                        請在左側輸入價格數據，然後點擊"分析開盤八法"按鈕
                    </p>
                </div>
            </div>
        </div>
        
        <div class="method-list">
            <h3><i class="fas fa-list-ol"></i> 開盤八法類型對照表</h3>
            <div class="method-item">
                <div class="method-number">1</div>
                <div class="method-pattern">三漲</div>
                <div class="method-desc">A漲、B漲、C漲 (A>前日收盤, B>A, C>B)</div>
            </div>
            <div class="method-item">
                <div class="method-number">2</div>
                <div class="method-pattern">二漲一跌</div>
                <div class="method-desc">A漲、B漲、C跌 (A>前日收盤, B>A, C<B)</div>
            </div>
            <div class="method-item">
                <div class="method-number">3</div>
                <div class="method-pattern">一漲二跌</div>
                <div class="method-desc">A漲、B跌、C跌 (A>前日收盤, B<A, C<B)</div>
            </div>
            <div class="method-item">
                <div class="method-number">4</div>
                <div class="method-pattern">三跌</div>
                <div class="method-desc">A跌、B跌、C跌 (A<前日收盤, B<A, C<B)</div>
            </div>
            <div class="method-item">
                <div class="method-number">5</div>
                <div class="method-pattern">二跌一漲</div>
                <div class="method-desc">A跌、B跌、C漲 (A<前日收盤, B<A, C>B)</div>
            </div>
            <div class="method-item">
                <div class="method-number">6</div>
                <div class="method-pattern">一跌二漲</div>
                <div class="method-desc">A跌、B漲、C漲 (A<前日收盤, B>A, C>B)</div>
            </div>
            <div class="method-item">
                <div class="method-number">7</div>
                <div class="method-pattern">一漲一跌一漲</div>
                <div class="method-desc">A漲、B跌、C漲 (A>前日收盤, B<A, C>B)</div>
            </div>
            <div class="method-item">
                <div class="method-number">8</div>
                <div class="method-pattern">一跌一漲一跌</div>
                <div class="method-desc">A跌、B漲、C跌 (A<前日收盤, B>A, C<B)</div>
            </div>
        </div>
        
        <footer>
            <p>本工具根據雲發理財網的開盤八法原理設計 | 僅供參考，投資有風險，請謹慎決策</p>
            <p>參考來源: https://www.yunfar.com.tw/GBSSKILL/starting-8ways.html</p>
        </footer>
    </div>

    <script>
        // 開盤八法的解析資料
        const openingMethods = {
            1: {
                name: "第一法：三漲",
                description: "連續三根5分鐘K線收盤價都比前日收盤價高",
                explanation: "盤勢解析：開高走高，氣勢強勁，通常代表當日多方主導盤勢，有機會持續走高。但需注意是否過度追高，以及是否有量能配合。"
            },
            2: {
                name: "第二法：二漲一跌",
                description: "A漲、B漲、C跌 (9:05漲，9:10漲，9:15跌)",
                explanation: "盤勢解析：開高後創高但拉回，顯示高檔有賣壓。可能為震盪走高格局，但需觀察拉回幅度是否過大，以及是否能在支撐點位止跌回升。"
            },
            3: {
                name: "第三法：一漲二跌",
                description: "A漲、B跌、C跌 (9:05漲，9:10跌，9:15跌)",
                explanation: "盤勢解析：開高後連續走低，顯示賣壓沉重，多方無力守成。可能為當日走弱訊號，需留意是否會轉為跌勢，或測試重要支撐。"
            },
            4: {
                name: "第四法：三跌",
                description: "連續三根5分鐘K線收盤價都比前日收盤價低",
                explanation: "盤勢解析：開低走低，空方主導盤勢，氣勢疲弱。通常代表當日有較大下跌壓力，但需注意是否已過度下跌，可能出現技術性反彈。"
            },
            5: {
                name: "第五法：二跌一漲",
                description: "A跌、B跌、C漲 (9:05跌，9:10跌，9:15漲)",
                explanation: "盤勢解析：經過10分鐘的殺盤，有支撐買盤開始進場，此時應該有類股或權值拉抬，多單可以不破9：10分的收，作為低接的進場點。
開小跌：今日開盤即遇賣壓，或延續昨日的跌勢，視為反彈的力道，短多操作。
開大跌：如果在 10：00 ~ 11：30點前，未能突破守穩昨收，尾盤收黑機率高。"
            },
            6: {
                name: "第六法：一跌二漲",
                description: "A跌、B漲、C漲 (9:05跌，9:10漲，9:15漲)",
                explanation: "盤勢解析：此一徵兆表示大盤在 9：05後開低後，就轉折拉高，意謂著買方追價力道增加，盤勢通常表現為，底部有逢接買盤，有時一波比一波高直到收盤得視多方力道的持續性。開小跌：如果在10：00 ~ 11：30點前，不能突破 9：05分的收，尾盤才拉高的機會大，且通常隔日的行情並不差，持股可續抱。
開小跌：在10：00 點前就突破 9：15，也突破開盤價時，盤中持續拉抬的機會很高。"
            },
            7: {
                name: "第七法：一漲一跌一漲",
                description: "A漲、B跌、C漲 (9:05漲，9:10跌，9:15漲)",
                explanation: "盤勢解析：開高後拉回再創高，呈現震盪走高格局。顯示多空交戰激烈，但多方最終占上風，可能為盤堅走勢，但震盪幅度可能較大。"
            },
            8: {
                name: "第八法：一跌一漲一跌",
                description: "A跌、B漲、C跌 (9:05跌，9:10漲，9:15跌)",
                explanation: "盤勢解析：開低後反彈再走低，呈現震盪走低格局。顯示空方力道較強，反彈無力，可能為盤跌走勢，需留意是否會持續探底。"
            }
        };
        
        // DOM元素
        const prevCloseInput = document.getElementById('prev-close');
        const price905Input = document.getElementById('price-9-05');
        const price910Input = document.getElementById('price-9-10');
        const price915Input = document.getElementById('price-9-15');
        const analyzeBtn = document.getElementById('analyze-btn');
        const resetBtn = document.getElementById('reset-btn');
        const resultDisplay = document.getElementById('result-display');
        const initialMessage = document.getElementById('initial-message');
        const priceComparison = document.getElementById('price-comparison');
        const methodName = document.getElementById('method-name');
        const methodDescription = document.getElementById('method-description');
        const methodExplanation = document.getElementById('method-explanation');
        
        // 分析開盤八法
        function analyzeOpeningMethod() {
            // 獲取輸入值
            const prevClose = parseFloat(prevCloseInput.value);
            const price905 = parseFloat(price905Input.value);
            const price910 = parseFloat(price910Input.value);
            const price915 = parseFloat(price915Input.value);
            
            // 驗證輸入
            if (isNaN(prevClose) || isNaN(price905) || isNaN(price910) || isNaN(price915)) {
                alert('請輸入有效的價格數值');
                return;
            }
            
            if (prevClose <= 0 || price905 <= 0 || price910 <= 0 || price915 <= 0) {
                alert('價格必須大於0');
                return;
            }
            
            // 計算每個時間點相對於前日收盤價的漲跌
            const status905 = price905 > prevClose ? '漲' : '跌';
            const status910 = price910 > price905 ? '漲' : '跌';
            const status915 = price915 > price910 ? '漲' : '跌';
            
            // 判斷開盤八法類型
            let method = 0;
            
            if (status905 === '漲' && status910 === '漲' && status915 === '漲') {
                method = 1; // 三漲
            } else if (status905 === '漲' && status910 === '漲' && status915 === '跌') {
                method = 2; // 二漲一跌
            } else if (status905 === '漲' && status910 === '跌' && status915 === '跌') {
                method = 3; // 一漲二跌
            } else if (status905 === '跌' && status910 === '跌' && status915 === '跌') {
                method = 4; // 三跌
            } else if (status905 === '跌' && status910 === '跌' && status915 === '漲') {
                method = 5; // 二跌一漲
            } else if (status905 === '跌' && status910 === '漲' && status915 === '漲') {
                method = 6; // 一跌二漲
            } else if (status905 === '漲' && status910 === '跌' && status915 === '漲') {
                method = 7; // 一漲一跌一漲
            } else if (status905 === '跌' && status910 === '漲' && status915 === '跌') {
                method = 8; // 一跌一漲一跌
            }
            
            // 顯示結果
            displayResult(method, prevClose, price905, price910, price915);
        }
        
        // 顯示分析結果
        function displayResult(method, prevClose, price905, price910, price915) {
            // 切換顯示結果區域
            resultDisplay.style.display = 'block';
            initialMessage.style.display = 'none';
            
            // 更新價格比較區域
            priceComparison.innerHTML = `
                <div class="price-point">
                    <div class="price-label">前日收盤價</div>
                    <div class="price-value">${prevClose.toFixed(2)}</div>
                    <div class="price-status">基準</div>
                </div>
                <div class="price-point">
                    <div class="price-label">9:05 (A)</div>
                    <div class="price-value">${price905.toFixed(2)}</div>
                    <div class="price-status ${price905 > prevClose ? 'up' : 'down'}">${price905 > prevClose ? '漲' : '跌'}</div>
                </div>
                <div class="price-point">
                    <div class="price-label">9:10 (B)</div>
                    <div class="price-value">${price910.toFixed(2)}</div>
                    <div class="price-status ${price910 > price905 ? 'up' : 'down'}">${price910 > price905 ? '漲' : '跌'}</div>
                </div>
                <div class="price-point">
                    <div class="price-label">9:15 (C)</div>
                    <div class="price-value">${price915.toFixed(2)}</div>
                    <div class="price-status ${price915 > price910 ? 'up' : 'down'}">${price915 > price910 ? '漲' : '跌'}</div>
                </div>
            `;
            
            // 更新開盤八法資訊
            if (method > 0) {
                const methodInfo = openingMethods[method];
                methodName.textContent = methodInfo.name;
                methodDescription.textContent = methodInfo.description;
                methodExplanation.textContent = methodInfo.explanation;
            } else {
                methodName.textContent = "無法判斷";
                methodDescription.textContent = "輸入的價格數據無法對應到開盤八法的任何一種模式";
                methodExplanation.textContent = "請確認輸入的價格數據是否正確，或參考下方的開盤八法對照表檢查模式";
            }
            
            // 滾動到結果區域
            resultDisplay.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }
        
        // 重置輸入
        function resetInputs() {
            prevCloseInput.value = '';
            price905Input.value = '';
            price910Input.value = '';
            price915Input.value = '';
            
            // 切換顯示
            resultDisplay.style.display = 'none';
            initialMessage.style.display = 'block';
            
            // 滾動到頂部
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }
        
        // 事件監聽
        analyzeBtn.addEventListener('click', analyzeOpeningMethod);
        resetBtn.addEventListener('click', resetInputs);
        
        // 示例數據填充（方便測試）
        function fillExampleData() {
            // 只在所有輸入框都為空時填充示例數據
            if (!prevCloseInput.value && !price905Input.value && !price910Input.value && !price915Input.value) {
                prevCloseInput.value = '100.00';
                price905Input.value = '101.50';
                price910Input.value = '102.00';
                price915Input.value = '101.20';
            }
        }
        
        // 頁面載入時填充示例數據
        window.addEventListener('DOMContentLoaded', fillExampleData);
    </script>
</body>
</html>